<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dostoyevski</title>

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <link rel="stylesheet" th:href="@{/css/estilos.css}">
</head>
<body>

<div class="container">
    <h2>Z</h2>

    <div class="panel with-nav-tabs" th:classappend="${colorPanel}">
        <div class="panel-heading">
            <ul class="nav nav-tabs">

                <li th:classappend="${categoriaActiva == 'nombre'} ? 'active'">
                    <a th:href="@{/perfil(categoria='nombre')}">Nombre</a>
                </li>

                <li th:classappend="${categoriaActiva == 'correo'} ? 'active'">
                    <a th:href="@{/perfil(categoria='correo')}">Correo</a>
                </li>

                <li th:classappend="${categoriaActiva == 'github'} ? 'active'">
                    <a th:href="@{/perfil(categoria='github')}">GitHub</a>
                </li>

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        Más <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li th:each="cat : ${usuario.categorias}">
                            <a th:href="@{/perfil(categoria=${cat})}"
                               th:text="${#strings.capitalize(cat.replace('-', ' '))}">
                            </a>
                        </li>
                    </ul>
                </li>

            </ul>
        </div>

        <div class="panel-body">

            <!-- Fijos -->
            <div th:if="${categoriaActiva == 'nombre'}">
                <h4>Nombre</h4>
                <p th:text="${usuario.nombre}"></p>
            </div>

            <div th:if="${categoriaActiva == 'correo'}">
                <h4>Correo</h4>
                <p th:text="${usuario.correo}"></p>
            </div>

            <div th:if="${categoriaActiva == 'github'}">
                <h4>GitHub</h4>
                <p>
                    <a th:href="${usuario.github}"
                       th:text="${usuario.github}"
                       target="_blank"></a>
                </p>
            </div>

            <!-- DropDown -->
            <div th:if="${usuario.contenidos.containsKey(categoriaActiva)}">

                <h4 th:text="${#strings.capitalize(categoriaActiva.replace('-', ' '))}"></h4>

                <p th:text="${usuario.contenidos.get(categoriaActiva)}"></p>

                <!--A falta de ganas de poner una foto de perfil, dejo esta como pequeño secreto-->
                <div th:if="${categoriaActiva == 'fatum-betula'}">
                    <img th:src="@{/img/fatum-betula.png}"
                         class="img-responsive"
                         style="max-width:300px; margin-top:15px;">
                </div>

            </div>

        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</body>
</html>

